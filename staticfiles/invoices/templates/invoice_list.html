{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <h1>Smallscapes Invoices</h1>
    <ul class="invoicelist">
        {% for invoice in invoices %}
        <h2 class="invoiceid">Invoice #.{{ invoice.id}} </h2>
            <li class="invoice">
                Client: {{ invoice.client_name }} - Invoice Total: ${{ invoice.total }}
                <ul class ="itemList">
                    {% for item in invoice.items.all %}
                    <h3 class="itemName">Item: {{ item.item_name }}</h3>
                        <li class="item">Item Base Price: ${{ item.base_price }} - Item Total Price:{{item.total}}
                            <ul class="supplylist">
                                <h3 class="supplyHeader">Supplies for {{item.item_name}}:</h3>
                                {% for supply in item.supplies.all %}
                                    <li class ="supply">
                                        {{ supply.name }} - {{ supply.quantity }} @ ${{ supply.price }} = ${{ supply.total_price }}
                                        <!-- {% if invoice.id and item.id and supply.id %}
                                            <a href="{% url 'remove_supply' invoice.id item.id supply.id %}">Remove Supply</a>
                                        {% endif %} -->
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Invoices</title>
    <style>
        body {
            font-family: 'Helvetica Neue', 'Helvetica', Arial, sans-serif;
            color: #333;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            background-color: #51CD0E;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 20px;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            
            margin: 10px 0;
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-transform: capitalize;
            font-size: 22px;
        }
        li ul li {
            margin: 5px 0;
            padding: 5px 10px;
            border-bottom: none;
            font-size: 20px;
            color:white;
            text-align: left;
        }
        li ul li ul li {
            padding: 5px 20px;
            font-size: 18px;
            text-align: left;
        }
        a {
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin-right: 10px;
            text-transform: uppercase;
        }
        a:hover {
            color: red;
            
        }
        /* Responsive styling */
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            h1 {
                font-size: 28px;
            }
            li {
                font-size: 18px;
                padding:5px 0;
            }
            li ul li, li ul li ul li {
                font-size: 14px;
                padding: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Smallscapes Invoices</h1>
        <ul>
            {% for invoice in invoices %}
                <li>
                    Invoice #: {{ invoice.id }} - Client: {{ invoice.client_name }} - Invoice Total:${{ invoice.total }}
                    <ul>
                        {% for item in invoice.items.all %}
                            <li>Item: {{ item.item_name }} - Item Base Price: ${{ item.base_price }} - Item Total Price:{{item.total}}
                                <ul>
                                    <h3>Supplies for {{item.item_name}}:</h3>
                                    {% for supply in item.supplies.all %}
                                        <li>
                                            {{ supply.name }} - {{ supply.quantity }} @ ${{ supply.price }} = ${{ supply.total_price }}
                                              {% if invoice.id and item.id and supply.id %}
                                                <a href="{% url 'remove_supply' invoice.id item.id supply.id %}">Remove Supply</a>
                                            {% endif %} 
                                        </li>
                                    {% endfor %}
                                </ul>
                            </li>
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}
        </ul>
    </div>
</body>
</html> -->
